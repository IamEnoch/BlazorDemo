@page "/"
@using BlazorDemo.APP.Pages.ContactComponents

<CustomTextbox @attributes="@MyTextBoxAttributes"></CustomTextbox>


@foreach (var contact in _contacts)
{
    <ContactComponent01 _currentContact = "@contact" DeleteCurrentContact="@DeleteContact"></ContactComponent01>
}

@code {
    
    private List<Contact> _contacts;
    private readonly Dictionary<string, object> MyTextBoxAttributes = new()
    {
        { "disabled", "disabled" },
        { "placeholder", "Me" },
        { "type", "text" }
    };

    private void DeleteContact(Contact contact)
    {
        _contacts.Remove(contact);
    }

    protected override void OnInitialized()
    {
        base.OnInitialized();

        _contacts = new()
        {
            new Contact
            {
                FirstName = "Enoch",
                LastName = "Mwangi",
                Email = "enoch@gmail.com"
            },
            new Contact
            {
                FirstName = "John",
                LastName = "Doe",
                Email = "john@gmail.com"
            },
            new Contact
            {
                FirstName = "Lucas",
                LastName = "Moura",
                Email = "lucas@gmail.com"
            },
            new Contact
            {
                FirstName = "Emily",
                LastName = "Wahito",
                Email = "emily@gmail.com"
            }
        };
    }
}
